{"version":3,"sources":["Components/ExchangeRates.js","Components/YahooFinanceLoader.js","Components/Portfolio.js","Components/YahooFinance.js","App.js","serviceWorker.js","index.js"],"names":["Cache","GetRate","from","to","a","Rates","axios","get","then","res","node","doc","DOMParser","parseFromString","data","nsResolver","createNSResolver","documentElement","nodes","evaluate","XPathResult","ANY_TYPE","result","iterateNext","currency","getAttribute","rate","push","parseFloat","Error","fromRate","find","o","toRate","anyCorsHttp","create","baseURL","getUrl","quotes","fields","_","isArray","url","yahooFinanceUrl","join","YahooFinanceFields","YahooFinanceLoader","Symbol","symbols","now","Date","i","length","symbol","cacheItem","localStorage","getItem","JSON","parse","splice","removeItem","chunks","chunk","json","quoteResponse","forEach","setItem","stringify","SecurityPostion","NumberOfShares","MarketCost","MarketCostEUR","MarketPrice","MarketPriceEUR","Transactions","PastGain","PastGainEUR","RateToEUR","this","Security","Price","inEur","price","regularMarketPrice","previousPrice","regularMarketPreviousClose","CurrencyHelper","positions","position","Ticker","indexOf","Currency","endsWith","Portfolio","parsedCsv","parser","columns","Shares","Math","abs","Commission","item","Name","Type","toLowerCase","console","log","lastTransaction","last","x","min","pop","updateCurrency","tickers","filter","map","loader","Load","yahooData","y","YahooFinance","props","state","portfolio","marketCost","marketPrice","pastGain","gain","dividendYield","sortBy","sortDirection","SortDirection","ASC","displayInEUR","_sort","bind","handleCheck","renderPrice","setState","Number","isNaN","list","orderedList","p","diff","getPriceDiff","DESC","isString","reverse","_internalSort","cellData","dataKey","columnData","columnIndex","rowData","isScrolling","postData","rowIndex","toFixed","className","target","rel","href","forceUpdate","style","textAlign","toLocaleString","type","onChange","defaultChecked","height","width","headerHeight","rowHeight","rowClassName","index","sort","rowCount","rowGetter","label","disableSort","cellRenderer","renderName","cellDataGetter","getGain","Component","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.eadb4b80.chunk.js","sourcesContent":["// import _ from 'lodash';\r\nimport axios from 'axios';\r\n\r\nclass Cache\r\n{\r\n    static Rates;\r\n}\r\n\r\nexport async function GetRate(from, to)\r\n{\r\n    if (Cache.Rates == null)\r\n    {\r\n        await axios\r\n            .get('https://cors-anywhere.herokuapp.com/https://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml')\r\n            .then(res => \r\n                {\r\n                    let parser=new DOMParser();\r\n                    let doc = parser.parseFromString(res.data, 'text/xml');\r\n                    \r\n                    let nsResolver = doc.createNSResolver(doc.documentElement);\r\n                    \r\n                    let nodes = doc.evaluate(\"/gesmes:Envelope/*[name()='Cube']/*[name()='Cube']/*[name()='Cube']\", doc.documentElement, nsResolver, XPathResult.ANY_TYPE, null);\r\n                    let result = [];\r\n                    let node;\r\n                    while((node = nodes.iterateNext()) != null) \r\n                    {\r\n                        let currency = node.getAttribute('currency');\r\n                        let rate = node.getAttribute('rate');\r\n\r\n                        result.push({ currency:currency, rate:parseFloat(rate)});\r\n\r\n                        if (currency === 'GBP')\r\n                        {\r\n                            result.push({ currency:'GBp', rate:100.0 * parseFloat(rate)});\r\n\r\n                        }\r\n                    }\r\n\r\n                    result.push({ currency:'EUR', rate:1.0});\r\n\r\n                    Cache.Rates = result;\r\n                }); \r\n    }\r\n\r\n    if (Cache.Rates == null)\r\n        throw new Error('Failed to load the exchange rate file');\r\n\r\n    let fromRate = Cache.Rates.find(o =>o.currency === from);\r\n    if (fromRate == null)\r\n        throw new Error ('Failed to retrieve a rate for ' + from);\r\n    let toRate = Cache.Rates.find(o =>o.currency === to);\r\n    if (toRate == null)\r\n        throw new Error ('Failed to retrieve a rate for ' + toRate);\r\n\r\n    \r\n    let rate = (1/fromRate.rate) * toRate.rate;\r\n    return rate;\r\n} \r\n\r\n//export default GetRate;\r\n","import axios from 'axios';\r\nimport _ from 'lodash';\r\n\r\n\r\nconst anyCorsHttp = axios.create(\r\n    { baseURL:'https://cors-anywhere.herokuapp.com' }\r\n  );\r\n  \r\nconst yahooFinanceUrl = 'https://query1.finance.yahoo.com/v7/finance/quote';\r\n  \r\n  function getUrl(quotes, fields)\r\n  {\r\n    if (!_.isArray(quotes))\r\n      quotes = [quotes];\r\n  \r\n      let url = yahooFinanceUrl + '?symbols=' + _.join(quotes, ',');\r\n      if (fields == null)\r\n        return url;\r\n  \r\n      return url + \"&fields=\" + _.join(fields, ',');\r\n  }\r\n\r\nexport const YahooFinanceFields = {\r\n    /*\r\n    Ask : 'ask',\r\n    AskSize,\r\n    AverageDailyVolume10Day,\r\n    AverageDailyVolume3Month,\r\n    Bid,\r\n    BidSize,\r\n    BookValue,\r\n    */\r\n    Currency : 'currency',\r\n    /*\r\n    DividendDate,\r\n    EarningsTimestamp,\r\n    EarningsTimestampEnd,\r\n    EarningsTimestampStart,\r\n    EpsForward,\r\n    EpsTrailingTwelveMonths,\r\n    */\r\n    Exchange : 'exchange',\r\n    /*\r\n    ExchangeDataDelayedBy,\r\n    ExchangeTimezoneName,\r\n    ExchangeTimezoneShortName,\r\n    FiftyDayAverage,\r\n    FiftyDayAverageChange,\r\n    FiftyDayAverageChangePercent,\r\n    FiftyTwoWeekHigh,\r\n    FiftyTwoWeekHighChange,\r\n    FiftyTwoWeekHighChangePercent,\r\n    FiftyTwoWeekLow,\r\n    FiftyTwoWeekLowChange,\r\n    FiftyTwoWeekLowChangePercent,\r\n    FinancialCurrency,\r\n    ForwardPE,\r\n    FullExchangeName,\r\n    GmtOffSetMilliseconds,\r\n    Language,\r\n    LongName,\r\n    */\r\n    Market : 'market',\r\n    /*\r\n    MarketCap,\r\n    MarketState,\r\n    MessageBoardId,\r\n    PriceHint,\r\n    PriceToBook,\r\n    QuoteSourceName,\r\n    QuoteType,\r\n    RegularMarketChange,\r\n    RegularMarketChangePercent,\r\n    RegularMarketDayHigh,\r\n    RegularMarketDayLow,\r\n    */\r\n    RegularMarketOpen : 'regularMarketOpen',\r\n    RegularMarketPreviousClose : 'regularMarketPreviousClose',\r\n    RegularMarketPrice : 'regularMarketPrice',\r\n    /*\r\n    RegularMarketTime,\r\n    RegularMarketVolume,\r\n    PostMarketChange,\r\n    PostMarketChangePercent,\r\n    PostMarketPrice,\r\n    PostMarketTime,\r\n    SharesOutstanding,\r\n    ShortName,\r\n    SourceInterval,\r\n    */\r\n    Symbol,\r\n    /*\r\n    Tradeable,\r\n    TrailingAnnualDividendRate,\r\n    TrailingAnnualDividendYield,\r\n    TrailingPE,\r\n    TwoHundredDayAverage,\r\n    TwoHundredDayAverageChange,\r\n    TwoHundredDayAverageChangePercent\r\n    */\r\n  };\r\n\r\nexport class YahooFinanceLoader\r\n{ \r\n  async Load(symbols, fields)\r\n  {\r\n    let now = Date.now();\r\n    \r\n    let result = [];\r\n\r\n    for(let i = symbols.length - 1; i >= 0; i--)\r\n    {\r\n      let symbol = symbols[i];\r\n      let cacheItem = localStorage.getItem(symbol);\r\n      if (cacheItem != null)\r\n      {\r\n        cacheItem = JSON.parse(cacheItem);\r\n        if ((now - cacheItem.Date) < 1000 * 60 * 5) // 5 minutes\r\n        {\r\n          result.push(cacheItem);\r\n          symbols.splice(i, 1);\r\n        }\r\n        else\r\n        {\r\n          localStorage.removeItem(symbol);\r\n        }\r\n      }\r\n    }\r\n\r\n    let chunks = _.chunk(symbols, 50);\r\n    for (let i =0;i<chunks.length;i++)\r\n    {\r\n        let chunk = chunks[i];\r\n        let chunkData = await anyCorsHttp\r\n            .get('/' + getUrl(chunk, fields))\r\n            .then(json => json.data.quoteResponse.result);\r\n        \r\n        chunkData.forEach(o =>\r\n        {\r\n          o.Date = now;\r\n          localStorage.setItem(o.symbol, JSON.stringify(o));\r\n          result.push(o);\r\n        });\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n","import _ from 'lodash';\r\nimport parser  from 'csv-parse/lib/sync';\r\nimport axios from 'axios';\r\nimport { GetRate } from './ExchangeRates';\r\nimport{ YahooFinanceLoader, YahooFinanceFields } from './YahooFinanceLoader'\r\n\r\nclass SecurityPostion\r\n{\r\n  Ticker;\r\n  Market;\r\n  NumberOfShares = 0;\r\n  MarketCost = 0;\r\n  MarketCostEUR = 0;\r\n  MarketPrice = 0;\r\n  MarketPriceEUR = 0;\r\n  Currency;\r\n  Name;\r\n  Transactions = [];\r\n  PastGain = 0;\r\n  PastGainEUR = 0;\r\n  RateToEUR = 1;\r\n  Security; // price of one share\r\n\r\n  PriceInEur()\r\n  {\r\n    return this.NumberOfShares * this.Security.Price * this.RateToEUR; \r\n  }\r\n\r\n  getGain(inEur = false)\r\n  {\r\n    if (this.MarketPrice == null || this.MarketCost == null)\r\n      return null;\r\n    if (this.NumberOfShares === 0)\r\n      return null;\r\n\r\n      if (inEur)\r\n      return this.MarketPriceEUR - this.MarketCostEUR;\r\n      \r\n    return this.MarketPrice - this.MarketCost;\r\n  }\r\n\r\n  getPriceDiff()\r\n  {\r\n    let price = this.Security == null ? null : this.Security.regularMarketPrice;\r\n    let previousPrice = this.Security == null ? null : this.Security.regularMarketPreviousClose;\r\n    if (price == null || previousPrice == null)\r\n      return null;\r\n        \r\n    return 100.0 * ((price / previousPrice) - 1.0);\r\n  }\r\n}\r\n\r\nclass CurrencyHelper\r\n{\r\n  static async updateCurrency (positions)\r\n  {\r\n    _.forEach(positions, (position)=>\r\n    {\r\n      if (position.Ticker.indexOf('.') < 0)\r\n        position.Currency = \"USD\";\r\n      else if (position.Ticker.endsWith(\".SW\"))\r\n        position.Currency = \"CHF\";\r\n      else if (position.Ticker.endsWith(\".L\"))\r\n        position.Currency = \"GBp\";\r\n      else if (position.Ticker.endsWith(\".OL\"))\r\n        position.Currency = \"NOK\";\r\n      else \r\n        position.Currency = 'EUR';\r\n    });\r\n\r\n    for (let i = 0; i<positions.length; i++)\r\n    {\r\n      if (positions[i].Currency !== 'EUR')\r\n        positions[i].RateToEUR = await GetRate(positions[i].Currency, 'EUR');\r\n    }\r\n  }\r\n}\r\n\r\nexport class Portfolio\r\n{ \r\n    // Loads the specified transactions\r\n    // sample file: https://raw.githubusercontent.com/lionelschiepers/MyStock/master/MyStockWeb/Data/1.csv\r\n    async Load (url) \r\n     {\r\n        \r\n        const result = [];\r\n\r\n          await axios\r\n            .get(url)\r\n            .then(res => {\r\n                const parsedCsv = parser(res.data, {columns:true});\r\n\r\n                _.forEach(parsedCsv, (data)=>\r\n            {\r\n              data.Shares = Math.abs(parseFloat(data.Shares));\r\n              data.Price = parseFloat(data.Price);\r\n              data.Commission = parseFloat(data.Commission);\r\n              \r\n              let item = _.find(result, (o) => o.Ticker === data.Symbol);\r\n              if (item == null)\r\n              {\r\n                item = new SecurityPostion();\r\n                item.Ticker = data.Symbol;\r\n                item.Name = data.Name;\r\n                result.push(item);\r\n              }\r\n                switch(data.Type.toLowerCase())\r\n                {\r\n                  case 'buy':\r\n                    item.NumberOfShares += data.Shares;\r\n                    item.MarketCost +=  data.Shares * data.Price + data.Commission;\r\n                    item.Transactions.push(data);\r\n                    break;\r\n                  case 'sell':\r\n                    // calculate the past gain with the last transactions.\r\n\r\n                    if (data.symbol === 'PUM.DE')\r\n                      console.log('');\r\n\r\n                    while(data.Shares > 0)\r\n                    {\r\n                      let lastTransaction = _.last(item.Transactions);\r\n                      let x = Math.min(lastTransaction.Shares, data.Shares);\r\n                      item.MarketCost -= x * lastTransaction.Price + lastTransaction.Commission;\r\n                      item.NumberOfShares -= x;\r\n                      lastTransaction.Shares -= x;\r\n                      data.Shares -= x;\r\n                      item.PastGain += x * (data.Price - lastTransaction.Price);\r\n\r\n                      if (lastTransaction.Shares === 0)\r\n                        item.Transactions.pop();\r\n                    }\r\n                    break;\r\n\r\n                    case 'deposit cash':\r\n                      item.PastGain += data.Commission;\r\n                      break;\r\n                    default:\r\n                      break;\r\n                      \r\n                }\r\n              });\r\n      });\r\n\r\n      await CurrencyHelper.updateCurrency(result);\r\n\r\n      const tickers = result.filter(o=>o.NumberOfShares > 0).map(o=> o.Ticker);\r\n\r\n      let loader = new YahooFinanceLoader();\r\n      let yahooData = await loader.Load(tickers, [YahooFinanceFields.RegularMarketPrice, YahooFinanceFields.RegularMarketPreviousClose]);\r\n      result.forEach(o => o.Security = yahooData.find(y => y.symbol === o.Ticker));\r\n\r\n      result.forEach(position =>\r\n        {\r\n          position.MarketCostEUR  = position.RateToEUR * position.MarketCost;\r\n          position.PastGainEUR  = position.RateToEUR * position.PastGain;\r\n\r\n          if (position.Security == null)\r\n            return;\r\n          if (position.Security.regularMarketPrice == null)\r\n            return;\r\n\r\n          position.MarketPrice = position.Security.regularMarketPrice * position.NumberOfShares;\r\n          position.MarketPriceEUR = position.RateToEUR * position.MarketPrice;          \r\n        });\r\n\r\n        /*\r\n        let totalMarketPrice = 0;\r\n        result\r\n        .filter(o=>o.MarketPriceEUR != null)\r\n        .forEach(o => \r\n          {\r\n            totalMarketPrice += o.MarketPriceEUR\r\n          });\r\n\r\n              let totalMarketCost = 0;\r\n              let eurPositions = _.filter(result, (o) => o.Currency === \"EUR\");\r\n\r\n              _.forEach(eurPositions, (o) => totalMarketCost+=o.MarketCost + o.PastGain);\r\n              // let totalCurrentPrice = 0;\r\n*/\r\n              return result;\r\n      \r\n    }\r\n}","import React, {Component} from 'react';\r\nimport {Column, Table, SortDirection, AutoSizer} from 'react-virtualized';\r\nimport 'react-virtualized/styles.css'; // only needs to be imported once\r\nimport _ from 'lodash';\r\nimport { Portfolio } from './Portfolio';\r\nimport './YahooFinance.css';\r\n\r\n\r\nclass YahooFinance extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          portfolio : [],\r\n          marketCost : 0,\r\n          marketPrice : 0,\r\n          pastGain : 0,\r\n          gain : 0,\r\n          dividendYield : 0,\r\n          sortBy: 'Name',\r\n          sortDirection: SortDirection.ASC,\r\n          displayInEUR : false,\r\n        }\r\n\r\n        this._sort = this._sort.bind(this); \r\n        this.handleCheck = this.handleCheck.bind(this);\r\n        this.renderPrice = this.renderPrice.bind(this);\r\n      }\r\n\r\n      componentDidMount() {\r\n        let portfolioBuilder = new Portfolio();\r\n        portfolioBuilder\r\n          .Load('https://raw.githubusercontent.com/lionelschiepers/MyStock/master/MyStockWeb/Data/1.csv')\r\n          .then(portfolio => \r\n            {\r\n              this.setState({portfolio:portfolio})\r\n              \r\n              let marketCost = 0;\r\n              let marketPrice = 0;\r\n              let pastGain = 0;\r\n              portfolio\r\n                .forEach(position =>\r\n                {\r\n                  pastGain += position.PastGainEUR;\r\n\r\n                  if (Number.isNaN(position.MarketCostEUR))\r\n                    return;\r\n                  if (Number.isNaN(position.MarketPriceEUR))\r\n                    return;\r\n                  \r\n                  marketCost += position.MarketCostEUR;\r\n                  marketPrice+= position.MarketPriceEUR;\r\n                });\r\n\r\n                let gain = marketCost === 0 ? 0 : marketPrice/marketCost - 1.0;\r\n\r\n                this.setState({marketCost:marketCost, marketPrice:marketPrice, gain:gain, pastGain:pastGain});\r\n            });\r\n      }\r\n\r\n      _internalSort(list, sortBy, sortDirection)\r\n      {\r\n        let orderedList = _.sortBy(list, p => \r\n          {\r\n            if (sortBy === 'Diff')\r\n            {\r\n              let diff = p.getPriceDiff();\r\n              if (p.NumberOfShares === 0)\r\n                diff = null;\r\n                \r\n              if (diff == null && sortDirection === SortDirection.DESC)\r\n                diff = -100000000; // always at the bottom\r\n\r\n              return diff;\r\n            }\r\n\r\n            if (_.isString(p[sortBy]))\r\n              return p[sortBy].toLowerCase(); // case insensitive sort.\r\n              \r\n            return p[sortBy]\r\n          });\r\n\r\n        if (sortDirection === SortDirection.DESC)\r\n          orderedList = orderedList.reverse();\r\n\r\n          return orderedList;\r\n      }\r\n\r\n      _sort({sortBy, sortDirection}) {\r\n        const {\r\n            portfolio\r\n          } = this.state;\r\n\r\n          let orderedList = this._internalSort(portfolio, sortBy, sortDirection);\r\n          this.setState( {portfolio: orderedList, sortBy:sortBy, sortDirection:sortDirection} );\r\n      }\r\n\r\n      renderPrice({\r\n        cellData,\r\n        columnData,\r\n        columnIndex,\r\n        dataKey,\r\n        isScrolling,\r\n        rowData,\r\n        rowIndex\r\n      })\r\n      {\r\n        let postData = '';\r\n        \r\n        if (dataKey === 'Security.regularMarketPrice' && rowData.Security != null)\r\n        {\r\n          if (cellData != null)\r\n            postData = rowData.Currency;\r\n        }\r\n        \r\n          if (dataKey === 'NumberOfShares')\r\n          return (<div>{cellData == null ? '': cellData.toFixed(0)}</div>);\r\n\r\n          if (dataKey === 'Diff')\r\n          {\r\n            let price = rowData.Security == null ? null : rowData.Security.regularMarketPrice;\r\n            let previousPrice = rowData.Security == null ? null : rowData.Security.regularMarketPreviousClose;\r\n            if (price == null || previousPrice == null)\r\n              return(<div />);\r\n            \r\n            cellData =  100.0 * ((price / previousPrice) - 1.0);\r\n            postData = '%';\r\n          }\r\n\r\n          if (dataKey === 'MarketCost' && this.state.displayInEUR)\r\n            cellData = rowData.MarketCostEUR;\r\n            if (dataKey === 'MarketPrice' && this.state.displayInEUR)\r\n            cellData = rowData.MarketPriceEUR;\r\n            if (dataKey === 'PastGain' && this.state.displayInEUR)\r\n            cellData = rowData.PastGainEUR;\r\n\r\n          if ((dataKey === 'MarketCost' || dataKey === 'MarketPrice') && cellData === 0)\r\n            cellData = null;\r\n\r\n          return (<div>{cellData == null ? '': cellData.toFixed(2)} {postData}</div>);\r\n      }\r\n\r\n      renderName({\r\n        cellData,\r\n        columnData,\r\n        columnIndex,\r\n        dataKey,\r\n        isScrolling,\r\n        rowData,\r\n        rowIndex\r\n      })\r\n      {\r\n        return (<a className='stockName' target='_blank' rel=\"noopener noreferrer\" href={'https://finance.yahoo.com/quote/' +rowData.Ticker}>{rowData.Name}</a>);\r\n      }\r\n    \r\n      handleCheck()\r\n      {\r\n        this.setState({displayInEUR:!this.state.displayInEUR});\r\n        this.forceUpdate();\r\n      }\r\n\r\n    render() {\r\n        const {\r\n            portfolio,\r\n            sortBy,\r\n            sortDirection,\r\n          } = this.state;\r\n\r\n        return (\r\n<div>\r\n  <div style={{textAlign:'left'}}>\r\n    Market Price:{this.state.marketPrice.toLocaleString(\"fr-BE\", {style: \"currency\", currency: \"EUR\"})}\r\n    <br/>\r\n    Market Cost:{this.state.marketCost.toLocaleString(\"fr-BE\", {style: \"currency\", currency: \"EUR\"})}\r\n    <br/>\r\n    Gain:{(this.state.gain * 100.0).toFixed(2)}%\r\n    <br/>\r\n    Past Gain:{this.state.pastGain.toLocaleString(\"fr-BE\", {style: \"currency\", currency: \"EUR\"})}\r\n    <br/>\r\n    Dividend Yield:{this.state.dividendYield.toFixed(2)}\r\n    <br/><br />\r\n  </div>\r\n  <div style={{textAlign:'left'}}>\r\n\t\t<input type=\"checkbox\" onChange={this.handleCheck} defaultChecked={this.state.displayInEUR}/> Display in EUR\r\n\t</div>\r\n  <div>\r\n  <AutoSizer>\r\n    {({height, width}) => (\r\n    <Table\r\n      width={width}\r\n      height={1000}\r\n      headerHeight={20}\r\n      rowHeight={30}\r\n      rowClassName={({ index }) => {\r\n        if(index !== -1 && index %2 ===0) {\r\n          return \"evenRow\"\r\n        } else if(index!==-1 && index%2===1) {\r\n          return \"oddRow\"\r\n        }}}\r\n      sort={this._sort}\r\n      sortBy={sortBy}\r\n      sortDirection={sortDirection}\r\n      rowCount={portfolio.length}\r\n      rowGetter={({index}) => portfolio[index]}>\r\n        <Column className='stockName' width={300} label=\"Name\" dataKey=\"Name\" disableSort={false} cellRenderer={this.renderName}/>\r\n        <Column width={100} label=\"Price\" dataKey=\"Security.regularMarketPrice\" disableSort={false} cellDataGetter={({rowData}) => rowData.Security == null ? null : rowData.Security.regularMarketPrice} cellRenderer={this.renderPrice} />\r\n        <Column width={100} label=\"Diff\" dataKey=\"Diff\" disableSort={false} cellDataGetter={({rowData}) => rowData.getPriceDiff()} cellRenderer={this.renderPrice} />\r\n        <Column width={100} label=\"Shares\" dataKey=\"NumberOfShares\" disableSort={false} cellRenderer={this.renderPrice} />\r\n        <Column width={150} label=\"Market Cost\" dataKey=\"MarketCost\" disableSort={false} cellRenderer={this.renderPrice} />\r\n        <Column width={150} label=\"Market Price\" dataKey=\"MarketPrice\" disableSort={false} cellRenderer={this.renderPrice} />\r\n        <Column width={150} label=\"Gain\" disableSort={false} cellDataGetter={({rowData}) => rowData.getGain(this.state.displayInEUR)} cellRenderer={this.renderPrice} />\r\n        <Column width={150} label=\"Past Gain\" dataKey=\"PastGain\" disableSort={false} cellRenderer={this.renderPrice} />\r\n    </Table>\r\n    )}\r\n    </AutoSizer>,\r\n  </div>\r\n</div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default YahooFinance;","import React from 'react';\r\n// import logo from './logo.svg';\r\nimport './App.css';\r\nimport YahooFinance from \"./Components/YahooFinance\";\r\n/*\r\n<header className=\"App-header\">\r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n        <p>\r\n          Edit <code>src/App.js</code> and save to reload.\r\n        </p>\r\n        <a\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Learn React\r\n        </a>\r\n      </header>\r\n*/\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <YahooFinance />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}